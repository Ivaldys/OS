# Клиент-Серверное Приложение с Читателями и Писателями

## Описание

Это клиент-серверное приложение моделирует взаимодействие между процессами-читателями и процессами-писателями с использованием базы данных, представленной массивом целых чисел. Сервер управляет базой данных, обрабатывает запросы от читателей и писателей, обеспечивая корректное взаимодействие между ними.

## Компоненты

- **Сервер (server.cpp):**
  - Хранит массив целых чисел.
  - Обрабатывает запросы от клиентов (читателей и писателей).
  - Обеспечивает синхронизацию доступа к базе данных с помощью мьютекса и условной переменной.
  - Поддерживает подключение множества мониторов для отображения комплексной информации.
  - Позволяет динамическое подключение и отключение клиентов.
  - Корректно завершает работу всех подключенных клиентов при завершении работы сервера.

- **Читатель (reader.cpp):**
  - Подключается к серверу.
  - Читает случайную запись из базы данных.
  - Выводит информацию о своем ID, индексе записи, значении и вычисленном числе Фибоначчи.
  - Корректно завершает работу при получении сигнала завершения от сервера.

- **Писатель (writer.cpp):**
  - Подключается к серверу.
  - Изменяет случайную запись на случайное число.
  - Выводит информацию о своем ID, индексе записи, старом и новом значениях.
  - Корректно завершает работу при получении сигнала завершения от сервера.

- **Монитор (monitor.cpp):**
  - Подключается к серверу.
  - Получает и отображает все сообщения от читателей и писателей.
  - Поддерживает динамическое подключение и отключение без нарушения работы приложения.
  - Корректно завершает работу при получении сигнала завершения от сервера.

## Сборка и запуск

### Требования

- Компилятор C++ (например, g++)
- Среда для работы с сокетами (например, Linux)

### Инструкции

1. Клонируйте репозиторий или скачайте файлы проекта.

2. Скомпилируйте сервер и клиенты:

   ```sh
   g++ server.cpp -o server -lpthread
   g++ reader.cpp -o reader
   g++ writer.cpp -o writer
   g++ monitor.cpp -o monitor
   
3. Запустите сервер, указав порт для прослушивания:
   ```sh
   ./server <port>
4. Запустите читателей и писателей, указав IP адрес сервера и порт:
 - Читатель
   ```sh
   ./reader <server_ip> <port>
 - Писатель
   ```sh
   ./writer <server_ip> <port>
 - Монитор
   ```sh
   ./monitor <server_ip> <port>
   
5. Читатели и писатели будут взаимодействовать с сервером, выполняя свои операции и выводя результаты. Мониторы будут отображать все эти операции.

   
Сервер обеспечивает, что одновременно может работать любое количество читателей, но только один писатель.
Сервер и клиенты могут работать на разных машинах в сети, если указать соответствующие IP адреса и порты.
Мониторы могут динамически подключаться и отключаться без нарушения работы приложения.
Все клиенты могут корректно отключаться и подключаться снова, сервер продолжает работать корректно.
При завершении работы сервера происходит корректное завершение работы всех подключенных клиентов.
